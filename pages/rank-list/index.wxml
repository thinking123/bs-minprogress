<view class="container">
    <image src="{{url}}rank-list-bg.png" class="img"/>

    <image src="{{url}}rank-list-bg.png" class="img-title"/>

    <rank-card class="rank-card-silver"
               wx:if="{{silver}}"
               bind:follow="handleCardFollow"
               bind:vote="handleCardVote"
               info="{{silver}}" level="silver"/>
    <rank-card class="rank-card-gold"
               wx:if="{{gold}}"
               bind:follow="handleCardFollow"
               bind:vote="handleCardVote"
               info="{{gold}}" level="gold"/>
    <rank-card class="rank-card-cuprum"
               wx:if="{{cuprum}}"
               bind:follow="handleCardFollow"
               bind:vote="handleCardVote"
               info="{{cuprum}}" level="cuprum"/>




    <view class="city-list">
        <view class="city-before"
              bindtap="handleBeforeCity"
        >
            《
        </view>
        <view wx:for="{{showCityList}}"
              wx:key="city"
              wx:for-item="city"
              class="city-list-wrap"
        >
            <view class="city-item {{selectedCity && selectedCity.id == city.id ? 'selected-city' : ''}}" data-city="{{city}}"
            bindtap="handleSelectCity">
                {{city.provinceName}}
            </view>
        </view>
        <view class="city-after"
              bindtap="handleBackCity"
        >
            》
        </view>
    </view>

    <scroll-view
            bindscrolltolower="handleScrollBottom"
            class="rank-list-other"
            scroll-y>
        <view
                wx:for="{{rankListOther}}"
                wx:key="index"
                wx:for-item="rankOther"
                class="rank-item-other-wrap"
        >
            <view class="rank-num">
                {{index + 4}}
            </view>
            <image src="{{rankOther.musicCover}}"
                   class="rank-header-icon  rank-btn"/>

            <view class="rank-name">
                {{rankOther.musicName}}
            </view>
            <view class="rank-region">
                {{rankOther.region}}
            </view>
            <view class="rank-school">
                {{rankOther.school}}
            </view>
            <view class="rank-vote">
                {{rankOther.followNum ? rankOther.followNum : 0}}票
            </view>
            <image src="{{url}}followed.png"
                   wx:if="{{rankOther.followState == 1}}"
                   data-rank="{{rankOther}}"
                   bindtap="handleFollowed"
                   class="rank-followed rank-btn"/>
            <image src="{{url}}attention.png"
                   bindtap="handleNotFollowed"
                    wx:else
                   data-rank="{{rankOther}}"
                   class="rank-attention  rank-btn"/>

            <image src="{{url}}vote.png"
                   data-rank="{{rankOther}}"
                   bindtap="handleVote"
                   class="rank-vote-btn rank-btn"/>
        </view>
    </scroll-view>
    <view class="input-name-wrap">
        <input class=" input-name" placeholder="输入选手姓名和编号"
               placeholder-class="ph-cs-search"
               value="{{searchKey}}"
               bindinput="handleSearchKeyInput"
        />
        <image src="{{url}}search.png"
               bindtap="handleSearch"
               class="search-icon"/>
    </view>

</view>

